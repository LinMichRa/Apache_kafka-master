<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Órdenes Guardadas</title>

    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet">
</head>
<body class="bg-light">

<div class="container mt-5">
    <div class="card shadow p-4">
        <h2 class="text-center mb-4">Órdenes Guardadas</h2>

        <table class="table table-striped" id="ordersTable">
            <thead>
            <tr>
                <th>Producto</th>
                <th>Cantidad</th>
                <th>Precio</th>
                <th>Cliente</th>
            </tr>
            </thead>
            <tbody>
            <!-- Se llenará con JavaScript -->
            </tbody>
        </table>

        <a href="/ordenes" class="btn btn-secondary w-100 mt-3">⬅ Volver</a>
    </div>
</div>

<script>
    function cargarOrdenes() {
        const orders = JSON.parse(localStorage.getItem("orders") || "[]");
        const tableBody = document.querySelector("#ordersTable tbody");
        tableBody.innerHTML = ""; // limpiar antes de cargar

        if (orders.length === 0) {
            tableBody.innerHTML = `<tr><td colspan="4" class="text-center">No hay órdenes guardadas</td></tr>`;
            return;
        }

        orders.forEach(order => {
            const row = `
                <tr>
                    <td>${order.product}</td>
                    <td>${order.quantity}</td>
                    <td>${order.price}</td>
                    <td>${order.customer}</td>
                </tr>
            `;
            tableBody.innerHTML += row;
        });
    }

    cargarOrdenes();
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
